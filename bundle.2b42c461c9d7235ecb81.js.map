{"version":3,"file":"bundle.2b42c461c9d7235ecb81.js","mappings":"mBAGA,MAAOA,EAAcC,EAAaC,EAAYC,GAAc,CAC1D,gBACA,eACA,gBACA,iBACAC,KAAIC,GAAYC,SAASC,cAAcF,KAMnCG,EAAyBC,IAC7BC,aAAaC,QAAQ,QAASC,KAAKC,UAAUJ,GAAO,EAShDA,EAN2BK,MAC/B,MAAML,EAAQG,KAAKG,MAAML,aAAaM,QAAQ,UAAY,MAE1D,OADAR,EAAuBC,GAChBA,CAAK,EAGAK,GAGRG,EAAeC,IACnB,MAAMC,EAAOb,SAASc,cAAc,MACpCD,EAAKE,UAAUC,IAAI,eACnBH,EAAKI,YAAcL,EACnBjB,EAAYuB,YAAYL,EAAK,EAYzBM,EAAgBA,KACpB,MAAMC,EAAQ1B,EAAakB,MAE3BlB,EAAakB,MAAQ,GACrBlB,EAAa2B,QACbzB,EAAW0B,UAAW,EACtBzB,EAAWyB,UAAW,EAEtBnB,EAAMoB,KAAKH,GACXT,EAAaS,GACblB,EAAuBC,GAEvBA,EAAMqB,QA5CU,IA6CdC,MAAO,mDAAkD,EAmBvDC,EAAeA,IAA6B,KAAvBhC,EAAakB,OAAgBT,EAAMqB,OAhE5C,GAmElB9B,EAAaiC,iBAAiB,YAAYC,IAC1B,UAAVA,EAAEC,KAAmBH,KAAgBP,GAAe,IAE1DzB,EAAaiC,iBAAiB,SAAS,KACrC/B,EAAW0B,UAAYI,GAAc,IAEvC9B,EAAW+B,iBAAiB,QAASR,GACrCtB,EAAW8B,iBAAiB,SA1BNG,KAChB3B,EAAM4B,UACR7B,EAAuBC,GA1BzBR,EAAYqC,mBAAmBC,UA8B/BpC,EAAWyB,UAAYnB,EAAMqB,OAM7B5B,EAAW0B,UAAY5B,EAAakB,KAAK,IAiB3ChB,EAAW0B,UAAW,EACtBzB,EAAWyB,UAAYnB,EAAMqB,OAnDJrB,KACvBA,EAAM+B,QAAQvB,EAAa,EAmD7BwB,CAAiBhC,E","sources":["webpack://basic-queue/./src/index.js"],"sourcesContent":["import './styles/main.scss'\n\n// DOM elements\nconst [queueInputEl, queueListEl, enqueueBtn, dequeueBtn] = [\n  '.queue__input',\n  '.queue__list',\n  '.btn--enqueue',\n  '.btn--dequeue',\n].map(selector => document.querySelector(selector))\n\n// Constants\nconst MAX_NODES = 22\n\n// LocalStorage utility\nconst setQueueToLocalStorage = queue => {\n  localStorage.setItem('queue', JSON.stringify(queue))\n}\n\nconst getQueueFromLocalStorage = () => {\n  const queue = JSON.parse(localStorage.getItem('queue') ?? '[]')\n  setQueueToLocalStorage(queue)\n  return queue\n}\n\nconst queue = getQueueFromLocalStorage()\n\n// DOM manipulation\nconst addQueueNode = value => {\n  const node = document.createElement('li')\n  node.classList.add('queue__item')\n  node.textContent = value\n  queueListEl.appendChild(node)\n}\n\nconst removeQueueNode = () => {\n  queueListEl.firstElementChild?.remove()\n}\n\nconst renderQueueNodes = queue => {\n  queue.forEach(addQueueNode)\n}\n\n// Event handlers\nconst handleEnqueue = () => {\n  const input = queueInputEl.value\n\n  queueInputEl.value = ''\n  queueInputEl.focus()\n  enqueueBtn.disabled = true\n  dequeueBtn.disabled = false\n\n  queue.push(input)\n  addQueueNode(input)\n  setQueueToLocalStorage(queue)\n\n  queue.length >= MAX_NODES &&\n    alert(`You've reached a limit of elements in the queue!`)\n}\n\nconst handleDequeue = () => {\n  if (queue.shift()) {\n    setQueueToLocalStorage(queue)\n    removeQueueNode()\n  }\n\n  dequeueBtn.disabled = !queue.length\n  /*\n    This fixes the bug when you have full queue,\n    after entering value in input and removing element from queue\n    the 'Add' button still remains disabled despite there is some text in input\n  */\n  enqueueBtn.disabled = !queueInputEl.value\n}\n\n// Helper functions\nconst isValidInput = () => queueInputEl.value !== '' && queue.length < MAX_NODES\n\n// Event listeners\nqueueInputEl.addEventListener('keypress', e => {\n  if (e.key === 'Enter' && isValidInput()) handleEnqueue()\n})\nqueueInputEl.addEventListener('input', () => {\n  enqueueBtn.disabled = !isValidInput()\n})\nenqueueBtn.addEventListener('click', handleEnqueue)\ndequeueBtn.addEventListener('click', handleDequeue)\n\n// Rendering queue\nenqueueBtn.disabled = true\ndequeueBtn.disabled = !queue.length\nrenderQueueNodes(queue)\n"],"names":["queueInputEl","queueListEl","enqueueBtn","dequeueBtn","map","selector","document","querySelector","setQueueToLocalStorage","queue","localStorage","setItem","JSON","stringify","getQueueFromLocalStorage","parse","getItem","addQueueNode","value","node","createElement","classList","add","textContent","appendChild","handleEnqueue","input","focus","disabled","push","length","alert","isValidInput","addEventListener","e","key","handleDequeue","shift","firstElementChild","remove","forEach","renderQueueNodes"],"sourceRoot":""}